ğŸ“… 2025-11-23 TIL

ä»Šæ—¥ã‚„ã£ãŸã“ã¨
â€¢ Google Colab ã¨ Hugging Face ã‚’ API é€£æºã—ã¦å‹•ã‹ã—ãŸ
â€¢ Tesla T4ï¼ˆGPUï¼‰ ã‚’ä½¿ç”¨
â€¢ SDXL Turbo ã§ç”»åƒç”Ÿæˆã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ
â€¢ ãŸã ã—ã‚³ãƒ¼ãƒ‰ã®æ„å‘³ã¯ã¾ã æ•´ç†ã§ãã¦ã„ãªã‹ã£ãŸã®ã§ã¾ã¨ã‚ã‚‹

â¸»

ä»Šæ—¥ç†è§£ã—ãŸã“ã¨ï¼šã‚³ãƒ¼ãƒ‰ã®æ„å‘³

from IPython.display import display
from diffusers import AutoPipelineForText2Image
import torch

pipe = AutoPipelineForText2Image.from_pretrained(
"stabilityai/sdxl-turbo",
torch_dtype=torch.float16,
variant="fp16"
)
pipe.to("cuda")

prompt = "A class of students learning AI engineering in a vibrant pop-art style"
image = pipe(prompt=prompt, num_inference_steps=4, guidance_scale=0.0).images[0]
display(image)

ğŸ” ã‚³ãƒ¼ãƒ‰ã®æ„å‘³ã‚’ä¸€è¡Œãšã¤æ•´ç†

â–¶ from IPython.display import display
Colab ã§ ç”»åƒã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®é–¢æ•°ã€‚

â–¶ from diffusers import AutoPipelineForText2Image
Hugging Face ã® diffusers ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‹ã‚‰
ãƒ†ã‚­ã‚¹ãƒˆ â†’ ç”»åƒãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’èª­ã¿è¾¼ã‚€ã€‚

â–¶ import torch
PyTorchï¼ˆãƒ¢ãƒ‡ãƒ«ã®è¨ˆç®—ï¼‰ã‚’ä½¿ã†ãŸã‚ã€‚

â¸»

â–¶ ãƒ¢ãƒ‡ãƒ«ã‚’èª­ã¿è¾¼ã‚€

pipe = AutoPipelineForText2Image.from_pretrained(
"stabilityai/sdxl-turbo",
torch_dtype=torch.float16,
variant="fp16"
)

    â€¢	"stabilityai/sdxl-turbo" = ä½¿ã†ãƒ¢ãƒ‡ãƒ«
    â€¢	torch_dtype=torch.float16 = è¨ˆç®—ã‚’åŠç²¾åº¦ã«ã—ã¦é«˜é€ŸåŒ–
    â€¢	variant="fp16" = 16bit ç‰ˆã®é‡ã¿ã‚’ä½¿ã†

â¸»

â–¶ GPU ã‚’ä½¿ç”¨

pipe.to("cuda")

Colab ã® GPUï¼ˆä»Šå›ãªã‚‰ Tesla T4ï¼‰ã§é«˜é€Ÿå®Ÿè¡Œã€‚

â¸»

â–¶ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‹ã‚‰ç”»åƒç”Ÿæˆ

image = pipe(
prompt=prompt,
num_inference_steps=4,
guidance_scale=0.0
).images[0]

    â€¢	num_inference_steps=4

â†’ è¶…é«˜é€Ÿç”Ÿæˆï¼ˆSDXL Turbo ã®ç‰¹å¾´ï¼‰
â€¢ guidance_scale=0.0
â†’ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ãã¤ãå¾“ã‚ã›ãªã„
â†’ ã‚ˆã‚Šè‡ªç„¶ã€ãƒ©ãƒ³ãƒ€ãƒ è¦ç´ ãŒå¢—ãˆã‚‹

â¸»

â–¶ ç”Ÿæˆã•ã‚ŒãŸç”»åƒã‚’è¡¨ç¤º

display(image)

â¸»
